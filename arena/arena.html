<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clash of LLMs</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="arena.css">
</head>
<body>
  <!-- Landing Page -->
  <section id="landing">
    <div class="landing-content">
      <div class="landing-brand">
        <svg class="landing-icon" width="56" height="56" viewBox="0 0 24 24" fill="none">
          <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" fill="url(#bolt-grad-lg)" />
          <defs><linearGradient id="bolt-grad-lg" x1="3" y1="2" x2="20" y2="22">
            <stop stop-color="#f97316"/><stop offset="1" stop-color="#ec4899"/>
          </linearGradient></defs>
        </svg>
        <h1 class="landing-title">Clash<span class="landing-title-dim"> of </span>LLMs</h1>
        <p class="landing-subtitle">Watch AI chatbots clash in real-time</p>
      </div>

      <div class="landing-mode-selector">
        <div class="mode-cards" id="mode-cards"></div>
      </div>

      <div class="landing-matchup">
        <div class="selector-wrap">
          <select id="left-select">
            <option value="chatgpt" selected>ChatGPT</option>
            <option value="claude">Claude</option>
            <option value="grok">Grok</option>
            <option value="gemini">Gemini</option>
          </select>
          <input type="text" id="left-personality-input" class="personality-input" placeholder="Custom personality..." />
        </div>
        <div class="vs-badge">VS</div>
        <div class="selector-wrap">
          <select id="right-select">
            <option value="chatgpt">ChatGPT</option>
            <option value="claude" selected>Claude</option>
            <option value="grok">Grok</option>
            <option value="gemini">Gemini</option>
          </select>
          <input type="text" id="right-personality-input" class="personality-input" placeholder="Custom personality..." />
        </div>
      </div>

      <label class="configure-models-label">
        <input type="checkbox" id="configure-models-check" />
        <span>Configure models before starting</span>
      </label>

      <label class="configure-models-label">
        <input type="checkbox" id="auto-end-check" checked />
        <span>Auto-end when discussion is complete</span>
      </label>

      <div class="landing-round-limit">
        <label for="round-limit">Rounds</label>
        <input type="number" id="round-limit" min="1" max="50" placeholder="Unlimited" />
      </div>

      <div class="landing-setting-wrap">
        <input type="text" id="setting-input" class="setting-input" placeholder="Setting / context (optional, e.g. &quot;medieval fantasy world&quot;)" />
      </div>

      <div class="landing-input-wrap">
        <textarea id="topic-input" rows="2" placeholder="What should they debate?"></textarea>
      </div>

      <button id="start-btn" class="btn-start">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" fill="currentColor"/>
        </svg>
        <span id="start-btn-text">Start Debate</span>
      </button>

      <p class="landing-hint">or press Enter</p>
    </div>

    <button id="history-btn" class="history-btn">
      <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
      History
    </button>
  </section>

  <!-- History Modal -->
  <div id="history-modal" class="history-modal hidden">
    <div class="history-modal-backdrop"></div>
    <div class="history-modal-container">
      <div class="history-modal-header">
        <h2>History</h2>
        <button id="history-close-btn" class="history-close-btn">&times;</button>
      </div>
      <div id="history-list" class="history-list"></div>
    </div>
  </div>

  <!-- Transcript Modal -->
  <div id="transcript-modal" class="transcript-modal hidden">
    <div class="transcript-modal-backdrop"></div>
    <div class="transcript-modal-container">
      <div class="transcript-modal-header">
        <h2>Transcript</h2>
        <div class="transcript-modal-actions">
          <button id="transcript-export-btn" class="btn-export" title="Export as PDF">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
            PDF
          </button>
          <button id="transcript-close-btn" class="transcript-close-btn">&times;</button>
        </div>
      </div>
      <div id="transcript-content" class="transcript-content"></div>
    </div>
  </div>

  <!-- Debate View -->
  <section id="debate-view">
    <header id="controls">
      <div class="header-section header-left">
        <div class="logo-group">
          <svg class="logo-icon" width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" fill="url(#bolt-grad)" />
            <defs><linearGradient id="bolt-grad" x1="3" y1="2" x2="20" y2="22">
              <stop stop-color="#f97316"/><stop offset="1" stop-color="#ec4899"/>
            </linearGradient></defs>
          </svg>
          <span class="logo">Clash<span class="logo-dim"> of </span>LLMs</span>
        </div>
      </div>

      <div class="header-section header-center">
        <div class="matchup-display">
          <span class="matchup-name" id="header-left-name">ChatGPT</span>
          <span class="matchup-vs">VS</span>
          <span class="matchup-name" id="header-right-name">Claude</span>
        </div>
      </div>

      <div class="header-section header-right">
        <div class="status-pill" id="status-pill">
          <span class="status-dot"></span>
          <span id="status-text">Starting...</span>
          <span id="round-counter"></span>
        </div>
        <button id="stop-btn" class="btn-stop">Stop</button>
        <button id="transcript-btn" class="btn-transcript" disabled title="View transcript">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
          Transcript
        </button>
        <button id="export-btn" class="btn-export" disabled title="Export debate transcript as PDF">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
          PDF
        </button>
        <button id="retry-btn" class="btn-retry" style="display:none">Retry</button>
        <button id="continue-btn" class="btn-continue" style="display:none">Continue</button>
        <button id="new-debate-btn" class="btn-new-debate" style="display:none">Start New</button>
      </div>
    </header>

    <main id="arena">
      <div class="pane" id="left-pane">
        <div class="pane-header">
          <span class="pane-label" id="left-label">ChatGPT</span>
          <span class="pane-status" id="left-status"></span>
        </div>
        <iframe id="left-iframe" src="about:blank"></iframe>
      </div>

      <div class="divider" id="divider">
        <div class="divider-grip"></div>
      </div>

      <div class="pane" id="right-pane">
        <div class="pane-header">
          <span class="pane-label" id="right-label">Claude</span>
          <span class="pane-status" id="right-status"></span>
        </div>
        <iframe id="right-iframe" src="about:blank"></iframe>
      </div>
    </main>

    <div id="configure-bar" class="configure-bar hidden">
      <span class="configure-bar-text">Select your preferred models in each panel, then start when ready</span>
      <button id="configure-start-btn" class="btn-start configure-start-btn">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" fill="currentColor"/>
        </svg>
        Start
      </button>
    </div>
  </section>

  <script src="lib/jspdf.umd.min.js"></script>
  <script src="../shared/constants.js"></script>
  <script src="arena.js"></script>
</body>
</html>
